---
title: 品优购项目学习笔记
date: 2018-12-18 20:27:17
tags: [品优购,电商系统,项目实战]
categories: [项目学习]
---

一个综合性的 B2B2C 的电商网站系统。网站采用商家入驻的模式，商家入驻平台提交申请，有平台进行资质审核，审核通过后，商家拥有独立的管理后台录入商品信息。商品经过平台审核后即可发布。 

[Github地址](https://github.com/Mindyu/pinyougou)

<!-- more -->

#### 项目简介

##### 系统模块

 - 网站前台
 - 运营商平台
 - 商家管理平台



##### 框架组合

前端 angularJS + Bootstrap 

后端 Spring + SpringMVC + mybatis + Dubbox



##### 系统架构

面向服务的架构（SOA架构）。控制层与服务层分离，通过网络调用。
<img src="https://hexoblog-1253306922.cos.ap-guangzhou.myqcloud.com/photo2018/%E5%93%81%E4%BC%98%E8%B4%AD/%E9%9D%A2%E5%90%91%E6%9C%8D%E5%8A%A1%E7%9A%84%E6%9E%B6%E6%9E%84.jpg" width = 50% height = 50% />





##### 模块关联关系图

<img src="https://hexoblog-1253306922.cos.ap-guangzhou.myqcloud.com/photo2018/%E5%93%81%E4%BC%98%E8%B4%AD/%E7%B3%BB%E7%BB%9F%E6%A8%A1%E5%9D%97%E5%9B%BE.png" width = 50% height = 50% />



#### 项目环境搭建

##### Dubbox框架

致力于提供高性能和透明化的RPC远程服务调用方案，以及SOA服务治理方案。远程服务调用的分布式框架。

**原理图**
<img src="https://hexoblog-1253306922.cos.ap-guangzhou.myqcloud.com/photo2018/%E5%93%81%E4%BC%98%E8%B4%AD/Dubbox%E5%8E%9F%E7%90%86.jpg" width = 50% height = 50% />

节点角色说明：

 - Provider: 暴露服务的服务提供方。 
 - Consumer: 调用远程服务的服务消费方。 
 - Registry: 服务注册与发现的注册中心。
 - Monitor: 统计服务的调用次调和调用时间的监控中心。 
 - Container: 服务运行容器。



*Dubbox 本地 jar 包部署与安装 ：*

Dubbox 并不在 maven 中央仓库，需安装到本地仓库。将 dubbo-2.8.4.jar 包放到 d:\setup, 然后输入命令

`mvn install:install-file -Dfile=d:\setup\dubbo-2.8.4.jar -DgroupId=com.alibaba -DartifactId=dubbo -Dversion=2.8.4 -Dpackaging=jar` 即可。



##### 管理中心的部署 

开发过程中需要知道注册了哪些服务以便测试与管理。通过部署一个管理中心来实现。其实管理中心就是一个web应用，部署到tomcat即可。 

- 编译 dubbox 源码，dubbox-master.zip 文件中的 dubbox-master 目录下，执行 mvn package -Dmaven.skip.test=true 。即可在 target 目录下看到 dubbo-admin-2.8.4.war 。将 war 包放置到服务器的 webapps 下。
- 如果你部署在zookeeper同一台主机并且端口是默认的2181，则无需修改任何配置。如果不是在一台主机上或端口被修改，需要修改 WEB-INF 下的 dubbo.properties  ，修改如下配置：
  `dubbo.registry.address=<zookeeper://127.0.0.1:2181>` 修改后重新启动tomcat。
- <http://虚拟机ip:8080/dubbo-admin> 用户名 root 密码

<img src="https://hexoblog-1253306922.cos.ap-guangzhou.myqcloud.com/photo2018/%E5%93%81%E4%BC%98%E8%B4%AD/dubbox%E7%AE%A1%E7%90%86%E4%B8%AD%E5%BF%83.jpg" width = 50% height = 50% />

##### 注册中心 Zookeeper 

- 上传 zookeeper 安装包，解压缩，创建 data 目录，修改 zoo.cfg 配置文件的 dataDir 配置
- 启动命令 安装目录 /root/zookeeper-3.4.6/



<img src="https://hexoblog-1253306922.cos.ap-guangzhou.myqcloud.com/photo2018/%E5%93%81%E4%BC%98%E8%B4%AD/zookeeper%E6%9C%8D%E5%8A%A1.jpg" width = 50% height = 50% />



##### 依赖配置

克隆项目之后，使用 Eclipse 打开，导入Maven项目，此时会报找不到 dubbox 和 fastDFS 依赖包。而这两个依赖包不在 Maven 中央仓库中，所以需要我们手动将这两个包导入本地依赖库。

```
mvn install:install-file -Dfile=D:\src\dubbo-2.8.4.jar -DgroupId=com.alibaba -DartifactId=dubbo -Dversion=2.8.4 -Dpackaging=jar

// 然后配置离线约束：XML Catalog
http://code.alibabatech.com/schema/dubbo/dubbo.xsd


mvn  install:install-file  -DgroupId=org.csource.fastdfs  -DartifactId=fastdfs  -Dversion=1.2 -Dpackaging=jar -Dfile=d:\src\fastdfs_client_v1.20.jar


```

以上配置包存放在 https://github.com/Mindyu/pinyougou 下的 src 目录中。另外如果本地仓库安装依赖包之后依然报错，那么可能是 Eclipse 的 Maven 配置路径没有修改为本地的仓库路径。



#### 项目技术要点索引

[前端框架 AngularJS](http://www.mindyu.com/2018/12/19/%E5%93%81%E4%BC%98%E8%B4%AD%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%8A%EF%BC%89/#%E5%93%81%E7%89%8C%E7%AE%A1%E7%90%86%E6%A8%A1%E5%9D%97)

[select2 组件使用](http://www.mindyu.com/2018/12/19/%E5%93%81%E4%BC%98%E8%B4%AD%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%8A%EF%BC%89/#%E8%A7%84%E6%A0%BC%E5%8F%8A%E6%A8%A1%E6%9D%BF%E7%AE%A1%E7%90%86)

[Spring Security](http://www.mindyu.com/2018/12/19/%E5%93%81%E4%BC%98%E8%B4%AD%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%8A%EF%BC%89/#Spring-Security-%E5%AE%89%E5%85%A8%E6%A1%86%E6%9E%B6)

[BCrypt 加密算法 ](http://www.mindyu.com/2018/12/19/%E5%93%81%E4%BC%98%E8%B4%AD%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%8A%EF%BC%89/#%E5%95%86%E5%AE%B6%E7%B3%BB%E7%BB%9F%E7%99%BB%E5%BD%95%E5%AE%89%E5%85%A8%E6%8E%A7%E5%88%B6)

[分布式文件服务器 FastDFS ](http://www.mindyu.com/2018/12/19/%E5%93%81%E4%BC%98%E8%B4%AD%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%8A%EF%BC%89/#%E5%95%86%E5%93%81%E5%88%86%E7%B1%BB%E7%AE%A1%E7%90%86)

[Spring Data Solr 搜索解决方案](http://www.mindyu.com/2018/12/19/%E5%93%81%E4%BC%98%E8%B4%AD%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%8A%EF%BC%89/#%E6%90%9C%E7%B4%A2%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88)

[网页静态化技术 Freemarker](http://www.mindyu.com/2018/12/20/%E5%93%81%E4%BC%98%E8%B4%AD%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%EF%BC%89/#%E7%BD%91%E9%A1%B5%E9%9D%99%E6%80%81%E5%8C%96%E6%8A%80%E6%9C%AF)

[消息中间件解决方案 JMS](http://www.mindyu.com/2018/12/20/%E5%93%81%E4%BC%98%E8%B4%AD%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%EF%BC%89/#%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88-JMS)

[Spring Boot 框架](http://www.mindyu.com/2018/12/20/%E5%93%81%E4%BC%98%E8%B4%AD%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%EF%BC%89/#Spring-Boot%E5%85%A5%E9%97%A8)

[Spring Boot 与 ActiveMQ 整合](http://www.mindyu.com/2018/12/20/%E5%93%81%E4%BC%98%E8%B4%AD%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%EF%BC%89/#Spring-Boot%E4%B8%8EActiveMQ%E6%95%B4%E5%90%88)

[短信解决方案](http://www.mindyu.com/2018/12/20/%E5%93%81%E4%BC%98%E8%B4%AD%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%EF%BC%89/#%E7%9F%AD%E4%BF%A1%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88)

[单点登录解决方案](http://www.mindyu.com/2018/12/20/%E5%93%81%E4%BC%98%E8%B4%AD%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%EF%BC%89/#%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88)

[Cookie + Redis 购物车](http://www.mindyu.com/2018/12/22/%E5%93%81%E4%BC%98%E8%B4%AD%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%8B%EF%BC%89/#%E8%B4%AD%E7%89%A9%E8%BD%A6%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88)

[跨域解决方案](http://www.mindyu.com/2018/12/22/%E5%93%81%E4%BC%98%E8%B4%AD%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%8B%EF%BC%89/#%E8%B7%A8%E5%9F%9F%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E4%B8%8E%E6%8F%90%E4%BA%A4%E8%AE%A2%E5%8D%95)

[分布式 ID 生成器](http://www.mindyu.com/2018/12/22/%E5%93%81%E4%BC%98%E8%B4%AD%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%8B%EF%BC%89/#%E8%B7%A8%E5%9F%9F%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E4%B8%8E%E6%8F%90%E4%BA%A4%E8%AE%A2%E5%8D%95)

[二维码生成插件 qrious](http://www.mindyu.com/2018/12/22/%E5%93%81%E4%BC%98%E8%B4%AD%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%8B%EF%BC%89/#%E5%BE%AE%E4%BF%A1%E4%BA%8C%E7%BB%B4%E7%A0%81%E6%94%AF%E4%BB%98%E6%A8%A1%E5%9D%97)

[秒杀解决方案](http://www.mindyu.com/2018/12/22/%E5%93%81%E4%BC%98%E8%B4%AD%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%8B%EF%BC%89/#%E7%A7%92%E6%9D%80%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88)

[SpringTask 任务调度、Cron表达式、Maven Profile](http://www.mindyu.com/2018/12/22/%E5%93%81%E4%BC%98%E8%B4%AD%E9%A1%B9%E7%9B%AE%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%8B%EF%BC%89/#SpringTask-%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6)

